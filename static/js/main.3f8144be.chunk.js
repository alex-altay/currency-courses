(this.webpackJsonpcurrency=this.webpackJsonpcurrency||[]).push([[0],[,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow.a3a6ba20.svg"},function(e,t,a){e.exports=a.p+"static/media/close.41ae3b1f.svg"},,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(2),l=a.n(o),s=(a(15),a(16),a(17),a(8)),c=a(3),u=a(4),i=a(7),m=a(9),d=(a(18),a(19),function(e){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",{className:"header__title"},"\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u0426\u0411 \u0420\u0424"),n.a.createElement("h2",{className:"header__subtitle"},"\u043d\u0430 ",e.date))}),f=(a(20),a(5)),y=a.n(f),p=a(6),N=a.n(p),h=function(e){return{__html:e}},v=function(e){return n.a.createElement("form",{className:"currency-course"},n.a.createElement("div",{className:"from-course"},n.a.createElement("label",{htmlFor:"from-input"},e.fromName),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{id:"from-input",className:"form-control",type:"number",defaultValue:e.quantity,min:"0",onChange:function(t){return e.calculate(t,e.ind)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",dangerouslySetInnerHTML:h(e.fromSymbol)})))),n.a.createElement("img",{className:"currency-course__arrow",src:y.a,alt:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043c\u0435\u0441\u0442\u0430\u043c\u0438",onClick:e.swap}),n.a.createElement("div",{className:"to-course"},n.a.createElement("label",{htmlFor:"from-input"},e.toName),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{className:"form-control",type:"text",placeholder:Number(e.forAll).toFixed(2),readOnly:!0}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("span",{className:"input-group-text",dangerouslySetInnerHTML:h(e.toSymbol)})))),n.a.createElement("img",{className:"currency-course__close",src:N.a,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441",onClick:e.delete}))},E=(a(21),function(e){var t=e.coursesList.map((function(t,a){return n.a.createElement(v,{key:a,ind:a,fromKey:t.fromKey,fromName:t.fromName,fromSymbol:t.fromSymbol,toKey:t.toKey,toName:t.toName,toSymbol:t.toSymbol,forOne:t.forOne,quantity:t.quantity,forAll:t.forAll,delete:function(){return e.delete(a)},swap:function(){return e.swap(a)},calculate:e.calculate})}));return n.a.createElement("div",null,t)}),b=(a(22),function(e){var t=Object.keys(e.currencies).map((function(t){return[t,e.currencies[t].Name]}));return t=(t=t.sort((function(e,t){return e[1]>t[1]}))).map((function(e){return n.a.createElement("option",{key:e[0],value:e[0]},e[1])})),n.a.createElement("form",{className:"add-course",onSubmit:e.addCourse},n.a.createElement("h3",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0443"),n.a.createElement("div",{className:"add-line"},n.a.createElement("div",{className:"from"},n.a.createElement("label",{htmlFor:"fromKey"},"\u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c"),n.a.createElement("select",{id:"fromKey",className:"form-control",required:!0,readOnly:!0},t)),n.a.createElement("div",{className:"to"},n.a.createElement("label",{htmlFor:"toKey"},"\u0425\u043e\u0447\u0443 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438"),n.a.createElement("select",{id:"toKey",className:"form-control",required:!0,readOnly:!0},t)),n.a.createElement("button",{type:"submit",className:"btn btn-primary add-button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}),C={ID:"R66666",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1},S={AMD:"&#1423;",AUD:"&#36;",AZN:"&#8380;",BGN:"",BRL:"&#36;",BYN:"Br",CAD:"&#36;",CHF:"&#8355;",CNY:"&#165;",CZK:"K\u010d",DKK:"kr",EUR:"&#8364;",GBP:"&#163;",HKD:"&#36;",HUF:"Ft",INR:"&#8377;",JPY:"&#165;",KGS:"\u0441",KRW:"&#8361;",KZT:"&#8376;",MDL:"L",NOK:"kr",PLN:"z\u0142",RON:"L",RUB:"&#8381;",SEK:"kr",SGD:"&#36;",TJS:"\u0441",TMT:"m",TRY:"&#8378;",UAH:"&#8372;",USD:"&#36;",UZS:"so\u2019m",XDR:"SDR",ZAR:"R"},K=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).updateLocalStorage=function(e){window.localStorage.setItem("defaultCurrenciesKeys",JSON.stringify(e))},r.setDefaultCourses=function(e){var t,a=[],n=Object(s.a)(r.state.defaultCurrenciesKeys);try{for(n.s();!(t=n.n()).done;){var o=t.value,l=r.assembleCourse(o.fromKey,o.toKey,e);a.push(l)}}catch(c){n.e(c)}finally{n.f()}return a},r.assembleCourse=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=r.calcCourseForOneCoin(e,t,a),l={fromKey:e,fromName:a[e].Name,fromSymbol:S[e],toKey:t,toName:a[t].Name,toSymbol:S[t],forOne:o,quantity:1,forAll:n*o};return l},r.addCourseButtonHandler=function(e){e.preventDefault();var t=e.target.elements.fromKey.value,a=e.target.elements.toKey.value,n=r.state.coursesList.slice(),o=r.assembleCourse(t,a,r.state.allCurrencies);n.push(o),r.setState({coursesList:n}),r.updateLocalStorage(n),e.target.reset()},r.deleteCourseButtonHandler=function(e){var t=r.state.coursesList.slice();t.splice(e,1),r.setState({coursesList:t}),r.updateLocalStorage(t)},r.swapCourseButtonHandler=function(e){var t=r.state.coursesList.slice(),a=t[e],n=r.assembleCourse(a.toKey,a.fromKey,r.state.allCurrencies,a.quantity);t[e]=n,r.setState({coursesList:t})},r.calculate=function(e,t){var a=r.state.coursesList.slice(),n=a[t];n.quantity=e.target.value,n.forAll=e.target.value*n.forOne,a[t]=n,r.setState({coursesList:a})},r.state={error:null,isLoaded:!1,dateFull:null,dateShort:null,allCurrencies:{},defaultCurrenciesKeys:[{fromKey:"USD",toKey:"RUB"},{fromKey:"EUR",toKey:"RUB"},{fromKey:"GBP",toKey:"EUR"}],coursesList:[]},r}return Object(u.a)(a,[{key:"calcCourseForOneCoin",value:function(e,t,a){var r=Number(a[t].Value),n=Number(a[t].Nominal),o=Number(a[e].Value),l=Number(a[e].Nominal);return"RUB"===t?o/l:"RUB"===e?1/(r/n):o/l/(r/n)}},{key:"componentDidMount",value:function(){var e=this;fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((function(e){return e.json()})).then((function(t){var a=t.Date,r=new Date(a).toLocaleDateString(),n=t.Valute;n.RUB=C;var o=[],l=window.localStorage.getItem("defaultCurrenciesKeys");o=l?JSON.parse(l):e.setDefaultCourses(n),e.setState({isLoaded:!0,dateString:a,dateShort:r,allCurrencies:n,coursesList:o})}),(function(t){return e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement(d,{date:this.state.dateShort}),n.a.createElement(E,{coursesList:this.state.coursesList,delete:this.deleteCourseButtonHandler,swap:this.swapCourseButtonHandler,calculate:this.calculate}),n.a.createElement(b,{currencies:this.state.allCurrencies,addCourse:this.addCourseButtonHandler}))}}]),a}(r.Component);var g=function(){return n.a.createElement(K,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.3f8144be.chunk.js.map